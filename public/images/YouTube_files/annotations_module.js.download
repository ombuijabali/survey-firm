(function(g){var window=this;'use strict';var Vz=function(e){e.publish("cardstatechange",e.G8()&&e.Ph()?1:0)},C7=function(e,L){var c=g.oL(L),I=c?L:arguments;
for(c=c?0:1;c<I.length;c++){if(e==null)return;e=e[I[c]]}return e},AhM=function(e){var L=g.Yr(e);
e=g.LH(e);return new g.$r(L.x,L.y,e.width,e.height)},Fsh=function(e,L,c){var I=I===void 0?{}:I;
var B;return B=g.qx(e,L,function(){g.Tx(B);c.apply(e,arguments)},I)},mt=function(e){e=g.hw(e);
delete aP[e];g.qQ(aP)&&NF&&NF.stop()},iHw=function(){NF||(NF=new g.j9(function(){bHw()},20));
var e=NF;e.isActive()||e.start()},bHw=function(){var e=g.O9();
g.Le(aP,function(L){GMZ(L,e)});
g.qQ(aP)||iHw()},yz=function(e,L,c,I){g.IA.call(this);
if(!Array.isArray(e)||!Array.isArray(L))throw Error("Start and end parameters must be arrays");if(e.length!=L.length)throw Error("Start and end points must be the same length");this.K=e;this.T=L;this.duration=c;this.B=I;this.coords=[];this.progress=this.j=0;this.G=null},GMZ=function(e,L){L<e.startTime&&(e.endTime=L+e.endTime-e.startTime,e.startTime=L);
e.progress=(L-e.startTime)/(e.endTime-e.startTime);e.progress>1&&(e.progress=1);e.j=1E3/(L-e.G);e.G=L;gTL(e,e.progress);e.progress==1?(e.X=0,mt(e),e.onFinish(),e.xo()):e.isPlaying()&&e.QV()},gTL=function(e,L){typeof e.B==="function"&&(L=e.B(L));
e.coords=Array(e.K.length);for(var c=0;c<e.K.length;c++)e.coords[c]=(e.T[c]-e.K[c])*L+e.K[c]},kMe=function(e,L){g.Hk.call(this,e);
this.coords=L.coords;this.x=L.coords[0];this.y=L.coords[1];this.z=L.coords[2];this.duration=L.duration;this.progress=L.progress;this.fps=L.j;this.state=L.X},Zo=function(e,L,c,I,B){yz.call(this,L,c,I,B);
this.element=e},DtL=function(e,L,c,I,B){if(L.length!=2||c.length!=2)throw Error("Start and end points must be 2D");
Zo.call(this,e,L,c,I,B)},wAg=function(e){return Math.pow(e,3)},JhM=function(e){return 3*e*e-2*e*e*e},V_N=function(e){g.p.call(this);
this.K=e||window;this.X=[]},p7=function(e){return e.baseUrl||null},$I=function(e,L){return g.ig(g.Mt(e,L),function(c){return!!c})},CDM=function(e,L,c){function I(rc){var Sv=rc.hovercardButton;
if(!Sv)return null;Sv=Sv.subscribeButtonRenderer;if(!Sv)return null;var tJ=x(Sv.unsubscribedButtonText),cM=x(Sv.subscribedButtonText);if(Sv.subscribed){var JJ=x(Sv.subscriberCountWithUnsubscribeText);var yr=x(Sv.subscriberCountText)}else JJ=x(Sv.subscriberCountText),yr=x(Sv.subscriberCountWithSubscribeText);var cU=null;if(rc.signinEndpoint){cU=C7(rc,"signinEndpoint","webNavigationEndpointData","url");if(!cU){var $N,fZ;cU=(fZ=g.Q(($N=Sv.signInEndpoint)==null?void 0:$N.commandMetadata,g.gS))==null?
void 0:fZ.url}if(!cU)return null}return tJ&&(cM||cU)?{subscribed:Sv.subscribed,subscribeText:tJ,subscribeCount:JJ,unsubscribeText:cM,unsubscribeCount:yr,enabled:Sv.enabled,signinUrl:cU,classic:rc.useClassicSubscribeButton}:null}
function B(rc){if(rc){var Sv=[],tJ=rc.videoId;tJ&&Sv.push("v="+tJ);(tJ=rc.playlistId)&&Sv.push("list="+tJ);(rc=rc.startTimeSeconds)&&Sv.push("t="+rc);return"/watch?"+Sv.join("&")}}
function x(rc){if(!rc)return null;var Sv=rc.simpleText;return Sv?Sv:rc.runs?g.Mt(rc.runs,function(tJ){return tJ.text}).join(""):null}
L=L.endscreenElementRenderer;if(!L)return null;var S=L.style,h=L.endpoint||{},R=null,u=null,t=!1,O=null,q=null,T=null,W=null,A=!1,b=null,J=null,w=null,C=null,y=null,P=null;if(S==="VIDEO")g.Q(h,g.ku)?R=g.Q(h,g.ku).url:(P=g.Q(h,g.MD),R=B(P)),u=!1,O=e,L.thumbnailOverlays?(t=L.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,q=x(t.text),t=t.style==="LIVE"):q=x(L.videoDuration);else if(S==="PLAYLIST")g.Q(h,g.ku)?R=g.Q(h,g.ku).url:(P=g.Q(h,g.MD),R=B(P)),u=!1,O=e,T=x(L.playlistLength);else if(S===
"CHANNEL"){if(A=C7(h,"browseEndpoint","browseId"))W=A,R="/channel/"+W;u=!1;O="new";(A=!!L.isSubscribe)?b=I(L):J=x(L.subscribersText)}else S==="WEBSITE"?((w=C7(h,"urlEndpoint","url"))&&(R=w),u=!0,O="new",w=L.icon.thumbnails[0].url):S==="CREATOR_MERCHANDISE"&&(L.productPrice&&(C=x(L.productPrice)),L.additionalFeesText&&(y=x(L.additionalFeesText)),(u=C7(h,"urlEndpoint","url"))&&(R=u),u=!0,O="new");e=C7(L,"title","accessibility","accessibilityData","label");var ev=L.endpoint?L.endpoint.clickTrackingParams:
null,X="";if(L.metadata){var oH=x(L.metadata);oH&&(X=oH)}return{id:"element-"+c,type:S,title:x(L.title),metadata:X,callToAction:x(L.callToAction),XG:L.image,iconUrl:w,left:Number(L.left),width:Number(L.width),top:Number(L.top),aspectRatio:Number(L.aspectRatio),startMs:Math.floor(Number(L.startMs)),endMs:Math.floor(Number(L.endMs)),videoDuration:q,mB:t,playlistLength:T,channelId:W,subscribeButton:b,subscribersText:J,isSubscribe:A,targetUrl:R||null,ZG:u,sessionData:ev?{itct:ev}:null,ZuS:O,GG:e?e:null,
isPlaceholder:L.isPlaceholder,impressionUrls:$I(L.impressionUrls||[],p7),nH:$I(L.hovercardShowUrls||[],p7),clickUrls:$I(h.loggingUrls||[],p7),visualElement:g.uF(L.trackingParams),productPrice:C,additionalFeesText:y,watchEndpoint:P||null}},axM=function(e,L){var c={startMs:Math.floor(Number(e.startMs)),
impressionUrls:$I(e.impressionUrls||[],p7),elements:$I(e.elements||[],function(I,B){return CDM(L,I,B)})};
e.trackingParams&&(c.visualElement=g.uF(e.trackingParams));return c},NRJ=function(e){g.Vk.call(this,e);
this.G=this.endscreen=null;this.K={};this.j={};this.B=this.Z=null;this.J=[];this.X=null;this.pS=!0;this.T=0;e=e.S();this.D=g.eb(e)||g.cn(e);this.events=new g.zn(this);g.l(this,this.events);this.events.C(this.player,g.jh("creatorendscreen"),this.onCueRangeEnter);this.events.C(this.player,g.Hq("creatorendscreen"),this.onCueRangeExit);this.events.C(this.player,"resize",this.Nx);this.events.C(window,"focus",this.ed$);this.load();var L=g.ql("STYLE");(g.xr("HEAD")[0]||document.body).appendChild(L);this.addOnDisposeCallback(function(){g.s_(L)});
L.sheet&&(L.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),L.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},mt7=function(e){return e.player.getVideoData().xx?"current":e.D?"new":"current"},jK=function(e){return e.player.S().playerStyle==="creator-endscreen-editor"},yhw=function(e){var L=e.player.getVideoData(),c=L.videoId;
e.G&&e.G.abort();c={method:"POST",onFinish:function(B){var x=e.G=null;B.status===200&&(B=B.responseText,B.substring(0,3)===")]}"&&(B=B.substring(3),x=JSON.parse(B),x=axM(x,mt7(e))));H_(e,x)},
urlParams:{v:c},withCredentials:!0};e.D&&(c.urlParams.ptype="embedded");var I=L.Dd;I&&(c.postParams={ad_tracking:I});if(L=g.PV$(L))if(L=g.h0(L),L=g.xC(L))e.G=g.W3(L,c)},H_=function(e,L,c){c=c===void 0?!0:c;
e.player.RU("creatorendscreen");e.Z&&(e.Z.dispose(),e.Z=null,e.B.dispose(),e.B=null);for(var I=g.f(Object.values(e.K)),B=I.next();!B.done;B=I.next())B.value.dispose();e.K={};e.j={};e.J.length>0&&(e.J.forEach(function(h){h.dispose()}),e.J.length=0);
e.X&&(g.eZ(e.X,"ytp-ce-element-show"),e.X.setAttribute("aria-hidden","true"));e.T=0;if((e.endscreen=L)&&L.elements){c&&ZHL(e);c=[];I=new g.pC(L.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});c.push(I);e.player.S().K||(e.Z=new g.U({U:"div",W:"ytp-ce-shadow"}),g.Uq(e.player,e.Z.element,4),e.B=new g.dJ(e.Z,200));for(I=0;I<L.elements.length;++I){B=L.elements[I];var x=pAZ(e,B);if(x){e.K[B.id]=x;e.j[B.id]=B;g.Uq(e.player,x.element,4);var S=new g.pC(B.startMs,B.endMs,{id:"ytp-ce-element-"+
B.id,namespace:"creatorendscreen"});c.push(S);$te(e,x,B)}else g.F7(new g.yu("buildEndscreenElement null",B))}e.player.Lb(c);e.Nx()}},ZHL=function(e){var L=g.OI(),c=g.qy();
c&&L&&e.endscreen.visualElement&&g.Hu(g.Ny)(void 0,c,L,e.endscreen.visualElement)},pAZ=function(e,L){var c=null;
switch(L.type){case "VIDEO":e={U:"div",Rq:["ytp-ce-element","ytp-ce-video"],N:{tabindex:"0","aria-label":L.GG||"","aria-hidden":"true"},L:[{U:"div",W:"ytp-ce-element-shadow"},{U:"div",W:"ytp-ce-covering-image",N:lR(L)},{U:"div",W:"ytp-ce-covering-shadow-top"},{U:"a",W:"ytp-ce-covering-overlay",N:{href:P_(e,L.targetUrl),tabindex:"-1"},L:[{U:"div",Rq:["ytp-ce-video-title","ytp-webkit-ellipsis"],N:{dir:g.rp(L.title||"")},aq:L.title},{U:"div",W:L.mB?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
aq:L.videoDuration||void 0}]}]};c=new g.U(e);break;case "PLAYLIST":e={U:"div",Rq:["ytp-ce-element","ytp-ce-playlist"],N:{tabindex:"0","aria-label":L.GG||"","aria-hidden":"true"},L:[{U:"div",W:"ytp-ce-element-shadow"},{U:"div",W:"ytp-ce-covering-image",N:lR(L)},{U:"div",W:"ytp-ce-covering-shadow-top"},{U:"a",W:"ytp-ce-covering-overlay",N:{href:P_(e,L.targetUrl),tabindex:"-1"},L:[{U:"div",Rq:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],N:{dir:g.rp(L.title||"")},aq:L.title},{U:"div",W:"ytp-ce-playlist-count",
L:[{U:"div",W:"ytp-ce-playlist-icon"},{U:"div",W:"ytp-ce-playlist-count-text",aq:L.playlistLength||void 0}]}]}]};c=new g.U(e);break;case "CHANNEL":c={U:"div",Rq:["ytp-ce-element","ytp-ce-channel",L.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],N:{tabindex:"0","aria-label":L.GG||"","aria-hidden":"true"},L:[{U:"div",W:"ytp-ce-element-shadow"},{U:"div",W:"ytp-ce-expanding-overlay",L:[{U:"div",W:"ytp-ce-expanding-overlay-hider"},{U:"div",W:"ytp-ce-expanding-overlay-background"},{U:"div",W:"ytp-ce-expanding-overlay-content",
L:[{U:"div",W:"ytp-ce-expanding-overlay-body",L:[{U:"div",W:"ytp-ce-expanding-overlay-body-padding",L:[{U:"a",Rq:["ytp-ce-channel-title","ytp-ce-link"],N:{href:P_(e,L.targetUrl),target:"_blank",tabindex:"-1",dir:g.rp(L.title||"")},aq:L.title},L.subscribeButton?{U:"div",W:"ytp-ce-subscribe-container",L:[{U:"div",W:"ytp-ce-channel-subscribe"}]}:"",L.subscribersText?{U:"div",W:"ytp-ce-channel-subscribers-text",aq:L.subscribersText}:"",L.metadata?{U:"div",Rq:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],aq:L.metadata}:""]}]}]}]},{U:"div",W:"ytp-ce-expanding-image",N:lR(L)}]};c=new g.U(c);var I=g.Sf(document,"div","ytp-ce-channel-subscribe",c.element)[0];if(L.subscribeButton&&L.channelId){g.Y4(I,"ytp-ce-subscribe-button");if(e.player.S().K){var B=null;var x=L.sessionData.itct}else B="endscreen",x=null;B=new g.uo(L.subscribeButton.subscribeText,L.subscribeButton.subscribeCount,L.subscribeButton.unsubscribeText,L.subscribeButton.unsubscribeCount,!!L.subscribeButton.enabled,!!L.subscribeButton.classic,
L.channelId,!!L.subscribeButton.subscribed,B,x,e.player,!1);I.appendChild(B.element);e.J.push(B)}break;case "WEBSITE":e={U:"div",Rq:["ytp-ce-element","ytp-ce-website"],N:{tabindex:"0","aria-label":L.GG||"","aria-hidden":"true"},L:[{U:"div",W:"ytp-ce-element-shadow"},{U:"div",W:"ytp-ce-expanding-overlay",L:[{U:"div",W:"ytp-ce-expanding-overlay-hider"},{U:"div",W:"ytp-ce-expanding-overlay-background"},{U:"div",W:"ytp-ce-expanding-overlay-content",L:[{U:"div",W:"ytp-ce-expanding-overlay-body",L:[{U:"div",
W:"ytp-ce-expanding-overlay-body-padding",L:[{U:"div",W:"ytp-ce-website-title",N:{dir:g.rp(L.title||"")},aq:L.title},{U:"div",W:"ytp-ce-website-metadata",aq:L.metadata},{U:"a",Rq:["ytp-ce-website-goto","ytp-ce-link"],N:{href:P_(e,L.targetUrl),target:"_blank",tabindex:"-1"},aq:L.callToAction}]}]}]}]},{U:"div",W:"ytp-ce-expanding-image",N:lR(L)},{U:"div",W:"ytp-ce-expanding-icon",N:jnM(L.iconUrl)}]};c=new g.U(e);break;case "CREATOR_MERCHANDISE":c="",L.productPrice&&(c={U:"div",W:"ytp-ce-merchandise-price-container",
L:[{U:"div",W:"ytp-ce-merchandise-price",aq:L.productPrice}]},L.additionalFeesText&&c.L.push({U:"div",W:"ytp-ce-merchandise-additional-fees",aq:L.additionalFeesText})),e={U:"div",Rq:["ytp-ce-element","ytp-ce-merchandise"],N:{tabindex:"0","aria-label":L.GG||"","aria-hidden":"true"},L:[{U:"div",W:"ytp-ce-element-shadow"},{U:"div",W:"ytp-ce-expanding-overlay",L:[{U:"div",W:"ytp-ce-expanding-overlay-hider"},{U:"div",W:"ytp-ce-expanding-overlay-background"},{U:"div",W:"ytp-ce-expanding-overlay-content",
L:[{U:"div",W:"ytp-ce-expanding-overlay-body",L:[{U:"div",W:"ytp-ce-expanding-overlay-body-padding",L:[{U:"div",W:"ytp-ce-merchandise-title",N:{dir:g.rp(L.title||"")},aq:L.title},c,{U:"div",W:"ytp-ce-merchandise-metadata",aq:L.metadata},{U:"a",Rq:["ytp-ce-merchandise-goto","ytp-ce-link"],N:{href:P_(e,L.targetUrl),target:"_blank",tabindex:"-1"},aq:L.callToAction}]}]}]}]},{U:"div",W:"ytp-ce-expanding-image",N:lR(L)},{U:"div",W:"ytp-ce-merchandise-invideo-cta-container",L:[{U:"div",W:"ytp-ce-merchandise-invideo-cta",
aq:L.callToAction||void 0}]}]},c=new g.U(e)}L.isPlaceholder&&g.Y4(c.element,"ytp-ce-placeholder");return c},lR=function(e){if(e.XG)var L=e.XG.thumbnails;
return jnM(L?L[L.length-1].url:null)},jnM=function(e){return e?{style:"background-image: url("+e+")"}:{}},$te=function(e,L,c){function I(R){R&&(L.listen("blur",function(){R.style.display!="none"&&e.pS&&R.focus()}),L.C(R,"focus",x),L.C(R,"blur",S))}
function B(R){e.T+=R;e.T>0?(g.Y4(L.element,"ytp-ce-force-expand"),Qz(e,c.id,!0)):(g.eZ(L.element,"ytp-ce-force-expand"),g.eZ(L.element,"ytp-ce-element-hover"),Qz(e,c.id,!1))}
function x(){B(1)}
function S(){B(-1)}
L.listen("mouseenter",function(){HHL(e,L,c)});
L.listen("mouseleave",function(){lxM(e,L,c)});
e.player.S().K||L.listen("click",function(){g.Y4(L.element,"ytp-ce-element-hover")});
L.listen("click",function(R){PDg(e,c,R)});
L.listen("keypress",function(R){PDg(e,c,R)});
L.listen("focus",function(){HHL(e,L,c)});
L.listen("blur",function(){lxM(e,L,c)});
L.listen("touchstart",function(){HHL(e,L,c)});
var h=g.rF("ytp-ce-expanding-overlay-hider",L.element);h&&L.C(h,"touchstart",function(R){R.stopPropagation();g.eZ(L.element,"ytp-ce-element-hover");g.eZ(L.element,"ytp-ce-force-expand")});
L.listen("keydown",function(R){e.pS=R.keyCode===9&&!R.shiftKey});
I(g.rF("ytp-sb-subscribe",L.element));I(g.rF("ytp-sb-unsubscribe",L.element));L.listen("focus",x);L.listen("blur",S)},PDg=function(e,L,c){if(L.targetUrl&&(!c||c.type!=="keypress"||c.keyCode===13)){for(var I=c.target;I&&!g.Ks(I,"ytp-ce-element");){g.Ks(I,"subscribe-label")&&Qnh(e,L);
if(g.Ks(I,"ytp-ce-channel-subscribe"))return;I=I.parentElement||null}if(!I||g.Ks(I,"ytp-ce-element-hover")){c.preventDefault();c.stopPropagation();if(I=e.K[L.id])lxM(e,I,L),I.element.blur();if(c.ctrlKey||c.metaKey||L.ZuS==="new")Qnh(e,L),e.player.sendVideoStatsEngageEvent(17,void 0),e.player.pauseVideo(),c=g.h0(P_(e,L.targetUrl)),c=g.xC(c),g.mZ(c,void 0,L.sessionData);else{var B=g.T3(e.player.S())||e.player.getVideoData().xx,x=function(){var S=P_(e,L.targetUrl),h=L.sessionData,R=L.watchEndpoint,u=
g.Ee(S);B&&u&&(u.v||u.list)?e.player.zF(u.v,h,u.list,!1,void 0,R||void 0):g.N2(S,h)};
Qnh(e,L,function(){e.player.sendVideoStatsEngageEvent(17,x)})}}}},P_=function(e,L){e=e.player.S();
if(L){if(L.startsWith("//"))return e.protocol+":"+L;if(L.startsWith("/"))return g.FM(e)+L}else return"";return L},HHL=function(e,L,c){g.Ks(L.element,"ytp-ce-element-hover")||(c.type==="VIDEO"||c.type==="PLAYLIST"?g.Y4(L.element,"ytp-ce-element-hover"):e.player.S().K?(new g.j9(function(){g.Y4(L.element,"ytp-ce-element-hover")},200)).start():g.Y4(L.element,"ytp-ce-element-hover"),dv(e,c.nH),Qz(e,c.id,!0))},lxM=function(e,L,c){g.eZ(L.element,"ytp-ce-element-hover");
g.eZ(L.element,"ytp-ce-force-expand");Qz(e,c.id,!1)},Qz=function(e,L,c){e.Z&&(c?e.B.show():e.B.hide());
for(var I=g.f(Object.keys(e.K)),B=I.next();!B.done;B=I.next())B=B.value,B!==L&&g.cY(e.K[B].element,"ytp-ce-element-shadow-show",c)},dv=function(e,L,c){function I(){x||(B++,B===L.length&&(S.stop(),c&&c()))}
if(!L||L.length===0||jK(e))c&&c();else{L=dtJ(e,L);var B=0,x=!1,S=new g.j9(function(){x=!0;c&&c()},1E3,e);
S.start();for(e=0;e<L.length;e++)g.gO(L[e],I)}},Qnh=function(e,L,c){dv(e,L.clickUrls,c);
(e=g.qy())&&L.ZG&&g.EI(e,L.visualElement)},dtJ=function(e,L){var c=e.player.getVideoData().clientPlaybackNonce;
e=e.player.getCurrentTime().toFixed(2);c={CPN:c,AD_CPN:c,MT:e};e=[];for(var I=0;I<L.length;I++)e.push(Ute(L[I],c));return e},Ute=function(e,L){return e.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(c){var I=unescape(c);
I=I.substring(1,I.length-1);return L[I]?escape(L[I]):c})},ETM=function(e){return typeof e==="string"?e:""},Uc=function(e,L,c){for(var I in L)if(L[I]===e)return e;
return c},XAe=function(e,L,c,I){this.value=e;
this.target=L;this.showLinkIcon=c;this.X=I},Ec=function(e){return e.value?e.value:null},Xu=function(e){if(!e)return null;
var L=g.h0(ETM(e.value));L=g.xC(L);if(!L)return null;var c=Uc(e.target,KsL,"current");if(c==null)e=null;else{var I=e.show_link_icon;e=new XAe(L,c,I==="true"||I==="false"?I==="true":!0,e.pause_on_navigation!=null?e.pause_on_navigation:!0)}return e},Yd9=function(e,L,c){this.type=e;
this.trigger=L;this.url=c},Lve=function(e){if(!e)return null;
var L=Uc(e.type,nT9),c=Uc(e.trigger,eNZ);e=e.url;e=Array.isArray(e)&&e.length?e[0]:e;e=Xu(e?e:null);return L?new Yd9(L,c,e):null},cTN=function(e,L,c,I,B){this.id=e;
this.type=L;this.style=c;this.data=B;this.action=I||[]},IKN=function(e,L){return g.vU(e.action,L)},BIM=function(e,L){this.context=e;
this.X=L},x69=function(e){return e.customMessage?K7("div","iv-card-message",e.customMessage):""},YI=function(e,L){e="background-image: url("+e+");";
var c=[];L&&c.push(L);return{U:"div",W:"iv-card-image",N:{style:e},L:c}},oQN=function(e){if(!e.metaInfo||e.metaInfo.length===0)return"";
var L=[];e=g.f(e.metaInfo);for(var c=e.next();!c.done;c=e.next())L.push(K7("li","",c.value));return{U:"ul",W:"iv-card-meta-info",L:L}},K7=function(e,L,c){L?typeof L==="string"?L={"class":L}:Array.isArray(L)&&(L={"class":L.join(" ")}):L={};
L.dir=g.rp(c);return{U:e,N:L,aq:c}},SX9=function(e){if(!e.customMessage)return"";
var L=["iv-card-action","iv-card-primary-link"],c={};e.uB&&(L.push("iv-card-action-icon"),c.style="background-image: url("+e.uB+");");c.dir=g.rp(e.customMessage);var I=[{U:"span",aq:e.customMessage}];e.showLinkIcon&&(I.push("\u00a0"),I.push({U:"span",W:"iv-card-link-icon"}));return{U:"div",Rq:L,N:c,L:I}},n7=function(e,L,c,I){if(I){L=g.f(L);
for(var B=L.next();!B.done;B=L.next())e.X(B.value,I,c.id,c.sessionData,c.qM.click,5)}},rTM=function(e,L){this.merchant=e;
this.price=L},hNZ=function(e){var L;
(L=e)&&!(L=e.length>1?e.charAt(0)==="/"&&e.charAt(1)!=="/":e==="/")&&(L=e.replace(/^(https?:)?\/\//,"").split("/",1),L=!L||L.length<1||!L[0]?[]:L[0].toLowerCase().split(".").reverse(),L=L[0]==="com"&&L[1]==="youtube"||L[0]==="be"&&L[1]==="youtu");return L?e.indexOf("/redirect?")===-1:!1},RNL=function(e,L){return L?L:hNZ(e)?"current":"new"},eT=function(e,L){g.p.call(this);
var c=this;this.element=e;this.context=L;this.x9=!1;this.He=new Map;this.m$=new Map;this.context.V.addEventListener(g.jh("annotations_module"),function(I){(I=c.He.get(I))&&I.apply(c)});
this.context.V.addEventListener(g.Hq("annotations_module"),function(I){(I=c.m$.get(I))&&I.apply(c)})},Lj=function(e,L,c,I,B,x,S){e.context.X.listen(L,"click",function(h){e.v2(c,I,B,x||[],S||0,h)});
e.context.X.listen(L,"touchstart",function(){e.x9=!1});
e.context.X.listen(L,"touchmove",function(){e.x9=!0})},uJM=function(e){var L;
return((L=g.Q(e,g.ku))==null?0:L.url)?g.Q(e,g.ku).url:(e=g.Q(e,g.MD))&&e.videoId?(L="/watch?v="+e.videoId,e.playlistId&&(L+="&list="+e.playlistId),e.index&&(L+="&index="+e.index),e.startTimeSeconds&&(L+="&t="+e.startTimeSeconds),L):null},cR=function(e,L,c){return{t3:(e.impressionLoggingUrlsV2s||[]).map(function(I){return I.baseUrl||""}),
click:(c.loggingUrls||[]).map(function(I){return I.baseUrl||""}),
close:(L.dismissLoggingUrlsV2s||[]).map(function(I){return I.baseUrl||""}),
wd:(L.impressionLoggingUrlsV2s||[]).map(function(I){return I.baseUrl||""}),
eM:(L.clickLoggingUrlsV2s||[]).map(function(I){return I.baseUrl||""})}},tdM=function(e,L,c){eT.call(this,L,c);
var I=this;this.V=e;this.eventId=null;this.Kf=this.Y9=this.RT=this.Z=this.isInitialized=!1;this.cards=[];this.DY=this.J=this.ye=this.B=this.Pe=this.X=null;this.pS=[];this.h7=this.T=this.EF=this.Ve=null;this.j=0;this.k9=new g.j9(function(){},c.XM.a8?4E3:3E3);
g.l(this,this.k9);this.Sl=new g.j9(function(){});
g.l(this,this.Sl);this.Gm=new BIM(c,function(B,x,S,h,R,u){Lj(I,B,x,S,h,R,u)});
this.D=new g.U({U:"div",W:"iv-drawer",N:{id:"iv-drawer"},L:[{U:"div",W:"iv-drawer-header",N:{"aria-role":"heading"},L:[{U:"span",W:"iv-drawer-header-text"},{U:"button",Rq:["iv-drawer-close-button","ytp-button"],N:{"aria-label":"Hide cards",tabindex:"0"}}]},{U:"div",W:"iv-drawer-content"}]});g.l(this,this.D);this.G=this.D.element;this.d_=new g.dJ(this.D,330);g.l(this,this.d_);this.sY=g.rF("iv-drawer-header-text",this.G);this.K=g.rF("iv-drawer-content",this.G);this.addCueRange(0,c.videoData.lengthSeconds*
1E3,"",function(){I.RT&&Iw(I,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(I.RT=I.Z)&&BR(I)});
this.t7=new g.zn(this);g.l(this,this.t7);this.V.addEventListener("videodatachange",this.OC.bind(this))},Otg=function(e,L){L=L.data;
L.autoOpenMs&&e.addCueRange(L.autoOpenMs,0x8000000000000,"",function(){Iw(e,"YOUTUBE_DRAWER_AUTO_OPEN")});
L.autoCloseMs&&e.addCueRange(L.autoCloseMs,0x8000000000000,"",function(){BR(e)});
var c=L.headerText;g.fU(e.sY,c);e.J&&e.J.setAttribute("title",c);L.eventId&&(e.eventId=L.eventId);e.Ve=g.uF(L.trackingParams);e.T=g.uF(L.closeTrackingParams);e.EF=g.uF(L.iconTrackingParams)},qXN=function(e,L){var c=L.cardId?L.cardId:"cr:"+e.j,I=e.V.S().experiments.N0("enable_error_corrections_infocard_web_client");
if(!L.content&&L.teaser.simpleCardTeaserRenderer&&I){var B=L.teaser.simpleCardTeaserRenderer,x=L.icon?L.icon.infoCardIconRenderer:null;if(B.channelAvatar&&B.channelAvatar.thumbnails&&B.channelAvatar.thumbnails.length>0)var S=xp(B.channelAvatar.thumbnails,22,22).url;L={id:c,timestamp:e.j,type:"simple",teaserText:g.o9(B.message),teaserDurationMs:Number(L.cueRanges[0].teaserDurationMs),startMs:Number(L.cueRanges[0].startCardActiveMs),autoOpen:!!L.autoOpen,sessionData:{},sponsored:!1,qM:{},g9:null,DJ:B.trackingParams?
g.uF(B.trackingParams):null,EF:x&&x.trackingParams?g.uF(x.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,uB:null,title:"",customMessage:"",url:null,onClickCommand:B.onTapCommand||null,eI:S};ow(e,L)}else{var h;if((h=L.content)==null?0:h.simpleCardContentRenderer){if(!L.cueRanges.length)return;S=(B=L.content)==null?void 0:B.simpleCardContentRenderer;B=L.teaser.simpleCardTeaserRenderer;x=L.icon?L.icon.infoCardIconRenderer:null;L={id:c,timestamp:e.j,type:"simple",teaserText:g.o9(B.message),
teaserDurationMs:Number(L.cueRanges[0].teaserDurationMs),startMs:Number(L.cueRanges[0].startCardActiveMs),autoOpen:!!L.autoOpen,sessionData:ST(e,c,L,S),sponsored:!1,qM:cR(S,B,S.command),g9:S.trackingParams?g.uF(S.trackingParams):null,DJ:B.trackingParams?g.uF(B.trackingParams):null,EF:x&&x.trackingParams?g.uF(x.trackingParams):null,imageUrl:xp(S.image.thumbnails,290,290).url,displayDomain:S.displayDomain?g.o9(S.displayDomain):null,showLinkIcon:!!S.showLinkIcon,uB:null,title:S.title?g.o9(S.title):"",
customMessage:S.callToAction?g.o9(S.callToAction):"",url:g.Q(S.command,g.ku).url?Xu({pause_on_navigation:!e.context.videoData.isLivePlayback,target:"new",value:g.Q(S.command,g.ku).url}):null,onClickCommand:null};ow(e,L)}else{var R;if((R=L.content)==null?0:R.collaboratorInfoCardContentRenderer){if(!L.cueRanges.length)return;S=(x=L.content)==null?void 0:x.collaboratorInfoCardContentRenderer;B=L.teaser.simpleCardTeaserRenderer;x=L.icon?L.icon.infoCardIconRenderer:null;L={id:c,timestamp:e.j,type:"collaborator",
teaserText:g.o9(B.message),teaserDurationMs:Number(L.cueRanges[0].teaserDurationMs),startMs:Number(L.cueRanges[0].startCardActiveMs),autoOpen:!!L.autoOpen,sessionData:ST(e,c,L,S),sponsored:!1,qM:cR(S,B,S.endpoint),g9:S.trackingParams?g.uF(S.trackingParams):null,DJ:B.trackingParams?g.uF(B.trackingParams):null,EF:x&&x.trackingParams?g.uF(x.trackingParams):null,channelId:g.Q(S.endpoint,g.l8).browseId,customMessage:S.customText?g.o9(S.customText):null,profileImageUrl:xp(S.channelAvatar.thumbnails,290,
290).url,title:S.channelName?g.o9(S.channelName):"",metaInfo:[S.subscriberCountText?g.o9(S.subscriberCountText):""],url:Xu({pause_on_navigation:!e.context.videoData.isLivePlayback,target:"new",value:g.Q(S.endpoint,g.l8).canonicalBaseUrl?g.Q(S.endpoint,g.l8).canonicalBaseUrl:"/channel/"+g.Q(S.endpoint,g.l8).browseId}),onClickCommand:null};ow(e,L)}else{var u;if((u=L.content)==null?0:u.playlistInfoCardContentRenderer){if(!L.cueRanges.length)return;var t;S=(t=L.content)==null?void 0:t.playlistInfoCardContentRenderer;
B=L.teaser.simpleCardTeaserRenderer;x=L.icon?L.icon.infoCardIconRenderer:null;L={id:c,timestamp:e.j,type:"playlist",teaserText:g.o9(B.message),teaserDurationMs:Number(L.cueRanges[0].teaserDurationMs),startMs:Number(L.cueRanges[0].startCardActiveMs),autoOpen:!!L.autoOpen,sessionData:ST(e,c,L,S),sponsored:!1,qM:cR(S,B,S.action),g9:S.trackingParams?g.uF(S.trackingParams):null,DJ:B.trackingParams?g.uF(B.trackingParams):null,EF:x&&x.trackingParams?g.uF(x.trackingParams):null,qX:xp(S.playlistThumbnail.thumbnails,
258,290).url,customMessage:S.customMessage?g.o9(S.customMessage):null,playlistVideoCount:g.o9(S.playlistVideoCount),title:S.playlistTitle?g.o9(S.playlistTitle):"",metaInfo:[S.channelName?g.o9(S.channelName):"",S.videoCountText?g.o9(S.videoCountText):""],url:Xu({pause_on_navigation:!e.context.videoData.isLivePlayback,target:"new",value:uJM(S.action)}),onClickCommand:null};ow(e,L)}else{var O;if((O=L.content)==null?0:O.videoInfoCardContentRenderer){if(!L.cueRanges.length)return;var q;S=(q=L.content)==
null?void 0:q.videoInfoCardContentRenderer;B=L.teaser.simpleCardTeaserRenderer;x=L.icon?L.icon.infoCardIconRenderer:null;L={id:c,timestamp:e.j,type:"video",teaserText:g.o9(B.message),teaserDurationMs:Number(L.cueRanges[0].teaserDurationMs),startMs:Number(L.cueRanges[0].startCardActiveMs),autoOpen:!!L.autoOpen,sessionData:ST(e,c,L,S),sponsored:!1,qM:cR(S,B,S.action),g9:S.trackingParams?g.uF(S.trackingParams):null,DJ:B.trackingParams?g.uF(B.trackingParams):null,EF:x&&x.trackingParams?g.uF(x.trackingParams):
null,qX:xp(S.videoThumbnail.thumbnails,258,290).url,videoDuration:S.lengthString?g.o9(S.lengthString):null,customMessage:S.customMessage?g.o9(S.customMessage):null,title:S.videoTitle?g.o9(S.videoTitle):"",metaInfo:[S.channelName?g.o9(S.channelName):"",S.viewCountText?g.o9(S.viewCountText):""],isLiveNow:!!S.badge,url:Xu({pause_on_navigation:!e.context.videoData.isLivePlayback,target:"new",value:uJM(S.action)}),onClickCommand:null};ow(e,L)}}}}}e.j++},xp=function(e,L,c){for(var I=-1,B=-1,x=0;x<e.length;x++){if(e[x].height===
L||e[x].width===c)return e[x];
((e[x].height||0)<L||(e[x].width||0)<c)&&(I<0||(e[I].height||0)<(e[x].height||0)||(e[I].width||0)<(e[x].width||0))?I=x:((e[x].height||0)>=L||(e[x].width||0)>=c)&&(B<0||(e[B].height||0)>(e[x].height||0)||(e[B].width||0)>(e[x].width||0))&&(B=x)}return e[B>=0?B:I]},ST=function(e,L,c,I){return{feature:c.feature?c.feature:"cards",
src_vid:e.context.videoData.videoId,annotation_id:L,ei:e.context.videoData.eventId||"",itct:I.trackingParams||""}},WvM=function(e,L){if(L=TIh(e,L))L===e.X&&(e.X=null),e.V.removeCueRange(L.Jm.id),g.s_(L.pT),g.i7(e.cards,L),e.Nu(),rA(e)},Iw=function(e,L,c){if(!e.Z){e.d_.show();
e.Pe=new g.j9(function(){g.Y4(e.context.V.getRootNode(),g.qB.IV_DRAWER_OPEN)},0);
e.Pe.start();e.t7.C(e.K,"mousewheel",function(S){e.k9.start();S.preventDefault();S=S||window.event;var h=0;S.type=="MozMousePixelScroll"?h=0==(S.axis==S.HORIZONTAL_AXIS)?S.detail:0:window.opera?h=S.detail:h=S.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?S.wheelDeltaY/-30:S.wheelDeltaY/-1.2:S.wheelDelta/-1.6:S.wheelDeltaY/-3;if(S=h)e.K.scrollTop+=S});
e.Z=!0;var I=g.qy();I&&e.Ve&&e.T&&g.QU(I,[e.Ve,e.T]);L={TRIGGER_TYPE:L};for(var B=g.f(e.cards),x=B.next();!x.done;x=B.next())x=x.value,x.Y7||(x.Y7=!0,MdM(e.context.logger,x.Jm.qM.t3,L)),I&&g.QU(I,[x.Jm.g9]);Vz(e.V);c&&(e.B=new g.j9(function(){e.ye=e.J;e.DY.focus()},330),e.B.start())}},BR=function(e){e.Z&&(e.d_.hide(),g.fv(e.t7),g.eZ(e.context.V.getRootNode(),g.qB.IV_DRAWER_OPEN),e.Z=!1,Vz(e.V),e.B&&e.B.stop(),e.B=new g.j9(function(){e.ye&&(e.ye.focus(),e.ye=null)},330),e.B.start())},zNL=function(e){g.ns(e.IT(),
[g.qB.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.Uq(e.V,e.G,5);e.ox();e.J=g.rF("ytp-cards-button",e.V.getRootNode());e.DY=g.rF("iv-drawer-close-button",e.G);e.isInitialized=!0},sQe=function(e){e.pS.push(g.Qo("iv-teaser-shown",e.YJ,e));
e.pS.push(g.Qo("iv-teaser-hidden",e.FY,e));e.pS.push(g.Qo("iv-teaser-clicked",e.Rz,e));e.Kf=!0},vQL=function(e,L){var c;
return L.onClickCommand&&((c=g.Q(L.onClickCommand,g.YoL))==null?void 0:c.targetId)==="engagement-panel-error-corrections"?(e.h7=L,!0):!1},fKg=function(e,L){e.h7=L;
var c=e.V.getVideoData();if(!c)return!1;c=g.db(c);if(c==null?0:c.markersMap)for(var I,B=0;((I=c)==null?void 0:I.markersMap.length)>B;B++){var x=void 0,S=(x=c)==null?void 0:x.markersMap[B];if(S.key==="ERROR_CORRECTION_MARKERS"&&(x=void 0,(S=(x=S.value)==null?void 0:x.markers)&&S.length>0))return I=void 0,L.startMs=((I=g.Q(S[0],g.VKc))==null?void 0:I.timeRangeStartMillis)||0,e.h7=null,!0}return!1},ow=function(e,L){if(!vQL(e,L)||fKg(e,L)){var c=ATU(e,L);
if(c){var I={Jm:L,pT:c.element,Y7:!1};if(L.onClickCommand)e.V.Y("web_infocards_teaser_show_logging_fix")&&(e.Kf||sQe(e),WvM(e,L.id),c=e.findLastIndex(I),g.pZ(e.cards,c,0,I));else{e.isInitialized||zNL(e);WvM(e,L.id);var B=e.findLastIndex(I);g.pZ(e.cards,B,0,I);c.jl(e.K,B);e.Nu()}L.autoOpen?e.addCueRange(L.startMs,0x8000000000000,L.id,function(){e.Z||(e.X=I,rA(e),Fv7(e,I),Iw(e,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(c=e.context.V.getCurrentTime()*1E3,c<5E3&&c>L.startMs&&btN(e,I),e.addCueRange(L.startMs,
L.startMs+1,L.id,function(){btN(e,I)}),rA(e))}}},ATU=function(e,L){switch(L.type){case "simple":e=e.Gm;
var c=L.displayDomain?{U:"div",W:"iv-card-image-text",aq:L.displayDomain}:void 0;var I=SX9(L);c={U:"div",Rq:["iv-card"],L:[{U:"a",W:"iv-click-target",N:{href:L.url?Ec(L.url)||"":""},L:[YI(L.imageUrl,c),{U:"div",W:"iv-card-content",L:[K7("h2",void 0,L.title),I]}]}]};c=new g.U(c);n7(e,g.oF("iv-click-target",c.element),L,L.url);L=c;break;case "collaborator":e=e.Gm;c={U:"div",Rq:["iv-card","iv-card-channel"],L:[{U:"a",Rq:["iv-click-target"],N:{href:Ec(L.url)||"","data-ytid":L.channelId},L:[YI(L.profileImageUrl),
{U:"div",W:"iv-card-content",L:[x69(L),{U:"h2",W:"iv-card-primary-link",aq:L.title},oQN(L)]}]}]};c=new g.U(c);n7(e,g.oF("iv-click-target",c.element),L,L.url);L=c;break;case "playlist":e=e.Gm;c={U:"div",Rq:["iv-card","iv-card-playlist"],L:[{U:"a",W:"iv-click-target",N:{href:Ec(L.url)||""},L:[YI(L.qX,{U:"div",W:"iv-card-image-overlay",L:[{U:"span",W:"iv-card-playlist-video-count",aq:L.playlistVideoCount}]}),{U:"div",W:"iv-card-content",L:[x69(L),K7("h2","iv-card-primary-link",L.title),oQN(L)]}]}]};
c=new g.U(c);n7(e,g.oF("iv-click-target",c.element),L,L.url);L=c;break;case "productListing":e=e.Gm;var B=L.offers.length!=0;c=["iv-card"];I="";var x=SX9(L);B&&(c.push("iv-card-product-listing"),I="iv-card-primary-link",x=L.offers[0],B=[],x.price&&B.push({U:"div",W:"iv-card-offer-price",aq:x.price}),x.merchant&&B.push({U:"div",W:"iv-card-offer-merchant",aq:x.merchant}),x={U:"div",L:B});B=L.url?Ec(L.url)||"":"";c={U:"div",Rq:c,N:{tabindex:"0"},L:[{U:"a",Rq:["iv-card-image","iv-click-target"],N:{style:"background-image: url("+
L.imageUrl+");",href:B,"aria-hidden":"true",tabindex:"-1"}},{U:"div",W:"iv-card-content",L:[L.sponsored?{U:"div",W:"iv-card-sponsored",L:["Sponsored",{U:"div",W:"iv-ad-info-container",L:[{U:"div",W:"iv-ad-info",aq:"{{adInfo}}"},{U:"div",W:"iv-ad-info-icon-container",L:[{U:"div",W:"iv-ad-info-icon"},{U:"div",W:"iv-ad-info-callout"}]}]}]}:"",{U:"a",W:"iv-click-target",N:{href:B},L:[K7("h2",I,L.title),x]}]}]};c=new g.U(c);I=g.ql("span");g.fU(I,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
c.Hw(I,"adInfo");n7(e,g.oF("iv-click-target",c.element),L,L.url);L=c;break;case "video":e=e.Gm;I=L.videoDuration?{U:"span",W:"iv-card-video-duration",aq:L.videoDuration}:void 0;x=L.isLiveNow?{U:"span",Rq:["yt-badge","yt-badge-live"],aq:"LIVE NOW"}:null;B={U:"div",Rq:["iv-card","iv-card-video"],L:[{U:"a",W:"iv-click-target",N:{href:((c=L.url)==null?void 0:Ec(c))||""},L:[YI(L.qX,I),{U:"div",W:"iv-card-content",L:[x69(L),K7("h2","iv-card-primary-link",L.title),oQN(L),x]}]}]};c=new g.U(B);n7(e,g.oF("iv-click-target",
c.element),L,L.url);L=c;break;default:return null}return L},it7=function(e){if(e.X)return e.X.Jm.type==="productListing";
if(e.V.Y("enable_wn_infocards")){var L;return!((L=e.cards)==null||!L.length)&&g.zM(e.cards,function(c){return c.Jm.type==="productListing"})}return g.zM(e.cards,function(c){return c.Jm.type==="productListing"})},rA=function(e){g.cY(e.V.getRootNode(),"ytp-cards-shopping-active",it7(e))},btN=function(e,L){if(!g.Ks(e.V.getRootNode(),"ytp-cards-teaser-shown")){if(e.X!==L){var c=g.qy(),I=e.X?e.X.Jm.EF:e.EF;
c&&I&&g.UI(c,[I]);e.X=L;rA(e)}(c=e.isInitialized&&e.IT().style.display=="none")||(c=e.context.V.getPlayerState(),I=c===0&&e.context.V.getCurrentTime()===0,c=!(c===1||c===3||I));if(!c&&L.Jm.teaserDurationMs){var B;c={teaserText:L.Jm.teaserText,durationMs:L.Jm.teaserDurationMs,onClickCommand:L.Jm.onClickCommand,eI:(B=L.Jm.eI)!=null?B:null};e.V.jQ(!0,c)}e.Sl.isActive()||((!e.Z||!e.k9.isActive()&&e.Y9)&&Fv7(e,L),e.Sl.start(910+L.Jm.teaserDurationMs))}},Fv7=function(e,L){e.D.z_?(L=new yz([0,
e.K.scrollTop],[0,L.pT.offsetTop],600,JhM),e.context.Z.listen(L,"animate",function(c){e.K.scrollTop=c.y}),e.context.Z.listen(L,"finish",function(c){e.K.scrollTop=c.y}),L.play()):(e.D.i5(!0),e.K.scrollTop=L.pT.offsetTop,e.D.i5(!1))},hV=function(e){return e.X&&e.X.Jm?e.X.Jm:e.cards[0]&&e.cards[0].Jm?e.cards[0].Jm:null},TIh=function(e,L){return g.vU(e.cards,function(c){return c.Jm.id===L})},Rw=function(e,L,c){eT.call(this,e,L);
this.annotation=c;this.isActive=!1},GKZ=function(e){var L=e.annotation.data;
"start_ms"in L&&"end_ms"in L&&e.addCueRange(Number(L.start_ms),Number(L.end_ms),e.annotation.id,function(){e.show()},function(){e.hide()})},uO=function(e,L,c){Rw.call(this,e,L,c);
this.K=null;this.T=!1;this.Z=null;this.G=!1;this.X=this.j=this.B=null},gQ9=function(e,L){var c=c===void 0?0:c;
var I=AhM(L).width;g.Xt(L,I);c=new DtL(L,[I,L.offsetTop],[I-I-c,L.offsetTop],200,wAg);g.l(e,c);e.context.Z.listen(c,"begin",function(){g.cA(L,!0)});
c.play()},wyh=function(e,L){if(L.channel_name){var c=e.createElement({U:"div",
Rq:["iv-branding-context-name"],aq:L.channel_name}),I=e.createElement({U:"div",Rq:["iv-branding-context-subscribe"]}),B=L.standalone_subscribe_button_data;B&&(e.X=new g.uo(B.subscribeText,B.subscribeCount,B.unsubscribeText,B.unsubscribeCount,!!B.enabled,!!B.classic,L.channel_id,!!B.subscribed,B.feature,L.session_data.itct,e.context.V,!1),e.X.jl(I));var x=e.createElement({U:"div",Rq:["iv-branding-context-subscribe-caret"]}),S=e.createElement({U:"div",Rq:["branding-context-container-inner"]});S.appendChild(x);
S.appendChild(c);S.appendChild(I);g.cA(S,!1);var h=e.createElement({U:"div",Rq:["branding-context-container-outer"]});h.appendChild(S);g.l3(h,"right",L.image_width+"px");g.Wz(e.IT(),h);e.Z=new g.j9(function(){kK7(e,S,h)},500);
g.l(e,e.Z);e.context.X.listen(e.IT(),"mouseover",function(){D67(e,S,h,x,L.image_height)});
e.context.X.listen(e.IT(),"mouseout",function(){e.Z.start()})}},D67=function(e,L,c,I,B){e.Z.stop();
if(!e.G){var x=g.LH(L);e.X||(L.style.width=g.E_(x.width,!0),c.style.width=g.E_(x.width,!0));g.l3(I,"top",x.height-Math.max(Math.min(x.height,B)/2+10,20)+"px");g.l3(I,"right","1px");e.G=!0;g.cA(L,!0);e.B=new g.j9(function(){g.Y4(this.IT(),"iv-branding-active")},0,e);
e.B.start()}},kK7=function(e,L,c){g.eZ(e.IT(),"iv-branding-active");
e.j=new g.j9(function(){g.cA(L,!1);e.X||(c.style.width=g.E_(0,!0))},250);
e.j.start();e.G=!1},JT7=function(e,L,c,I,B,x,S){this.X=e;
this.Z=L;this.XM=c;this.videoData=I;this.logger=B;this.V=x;this.K=S},VdZ=function(e,L,c){Rw.call(this,e,L,c);
var I=this;this.J=this.isCollapsed=this.D=!1;this.j=5E3;this.K=this.Z=this.X=this.G=null;this.T=this.createElement({U:"div",Rq:["iv-promo-contents"]});this.B=new g.j9(function(){I.X.setAttribute("aria-hidden","true");g.cA(I.Z,!1);g.cA(I.K,!0)},700,this);
g.l(this,this.B)},aKe=function(e){var L=e.annotation.data;
if(e.annotation.style==="cta")var c=6;else if(e.annotation.style==="video"||e.annotation.style==="playlist")c=7;e.j=L.collapsedelay_ms||e.j;var I=["iv-promo","iv-promo-inactive"];e.IT().setAttribute("aria-hidden","true");e.IT().setAttribute("aria-label","Promotion");e.IT().tabIndex=0;var B=e.annotation.Wd(),x=L.image_url;if(x){var S=e.createElement({U:"div",Rq:["iv-promo-img","iv-click-target"]});x=e.createElement({U:"img",N:{src:x,"aria-hidden":"true"}});S.appendChild(x);L.video_duration&&!L.is_live?
(x=e.createElement({U:"span",W:"iv-promo-video-duration",aq:L.video_duration}),S.appendChild(x)):L.playlist_length&&(x=e.createElement({U:"span",W:"iv-promo-playlist-length",aq:L.playlist_length.toString()}),S.appendChild(x));B&&Lj(e,S,B,e.annotation.id,L.session_data,void 0,c)}B?(x=e.createElement({U:"a",W:"iv-promo-txt"}),g.uv(x,Ec(B)),e.X=x):e.X=e.createElement({U:"div",W:"iv-promo-txt"});switch(e.annotation.style){case "cta":case "website":var h=e.createElement({U:"p",L:[{U:"strong",aq:L.text_line_1}]});
var R=e.createElement({U:"p",L:[{U:"span",W:"iv-promo-link",aq:L.text_line_2}]});if(x=L.text_line_3){I.push("iv-promo-website-card-cta-redesign");var u=e.createElement({U:"button",Rq:["iv-promo-round-expand-icon","ytp-button"]});x=e.createElement({U:"button",Rq:["iv-button","iv-promo-button"],L:[{U:"span",W:"iv-button-content",aq:x}]});var t=e.createElement({U:"div",W:"iv-promo-button-container"});t.appendChild(x);B&&Lj(e,e.IT(),B,e.annotation.id,L.session_data,void 0,c)}g.Y4(e.X,"iv-click-target");
B&&Lj(e,e.X,B,e.annotation.id,L.session_data,void 0,c);break;case "playlist":case "video":h=e.createElement({U:"p",L:[{U:"span",aq:L.text_line_1}]}),R=e.createElement({U:"p",L:[{U:"strong",aq:L.text_line_2}]}),L.is_live&&(h=R,R=e.createElement({U:"span",Rq:["yt-badge","iv-promo-badge-live"],aq:"LIVE NOW"})),g.Y4(e.X,"iv-click-target"),B&&Lj(e,e.X,B,e.annotation.id,L.session_data,void 0,c),I.push("iv-promo-video")}h&&e.X.appendChild(h);R&&e.X.appendChild(R);e.T.appendChild(e.X);t&&e.T.appendChild(t);
c=e.createElement({U:"div",W:"iv-promo-actions"});e.K=e.createElement({U:"button",Rq:["iv-promo-expand","ytp-button"]});e.K.title="Expand";e.context.X.listen(e.K,"click",function(O){C5M(e,5E3,O)});
c.appendChild(e.K);g.cA(e.K,!1);e.context.X.listen(e.IT(),"mouseover",e.IE,e);e.context.X.listen(e.IT(),"mouseout",e.Ud,e);e.context.X.listen(e.IT(),"touchend",function(O){C5M(e,5E3,O)});
e.Z=e.createElement({U:"button",Rq:["iv-promo-close","ytp-button"]});e.Z.title="Close";e.context.X.listen(e.Z,"click",e.annotation.style==="cta"&&L.text_line_3?e.ZN:e.KH,e);c.appendChild(e.Z);g.ns(e.IT(),I);S&&(g.Wz(e.IT(),S),u&&S.appendChild(u));g.Wz(e.IT(),e.T);g.Wz(e.IT(),c)},C5M=function(e,L,c){c.stopPropagation();
NIM(e);m69(e,L);e.X.focus()},yTN=function(e){e.isCollapsed||e.J||e.G||(g.Y4(e.IT(),"iv-promo-collapsed"),e.isCollapsed=!0,e.B.start())},NIM=function(e){e.B.stop();
e.isCollapsed&&(g.L1(e.IT(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),e.isCollapsed=!1,e.X&&e.X.removeAttribute("aria-hidden"),g.cA(e.K,!1),g.cA(e.Z,!0))},m69=function(e,L){e.G||(e.G=g.Cc(function(){ZtU(this);
yTN(this)},L,e))},ZtU=function(e){e.G&&(g.LZ.clearTimeout(e.G),e.G=null)},pyZ=function(e){this.V=e},MdM=function(e,L,c){L&&(c?tV(e,L.map(function(I){return g.FV(I,c)})):tV(e,L))},tV=function(e,L,c,I){var B=1,x=void 0,S=-1;
if(c){var h=!1;x=function(){B--;B||h||(clearTimeout(S),h=!0,c())};
S=setTimeout(function(){h=!0;c()},1E3)}L=g.f(L||[]);
for(var R=L.next();!R.done;R=L.next())R=R.value,B++,g.gO(R,x);I&&(B++,I!==0&&e.V.sendVideoStatsEngageEvent(I,x))},$6h=function(e){g.Vk.call(this,e);
var L=this;this.pS=this.J=!1;this.loadNumber=0;this.j={};this.logger=new pyZ(this.player);this.G=new g.zn(this);this.B=this.T=null;this.events=new g.zn(this);this.UV=this.D=this.X=null;this.h7=[];g.l(this,this.G);this.G.C(this.player,"onVideoAreaChange",function(){L.publish("onVideoAreaChange")});
this.G.C(this.player,"onHideControls",function(){L.publish("onHideControls")});
this.G.C(this.player,"onShowControls",function(){L.publish("onShowControls")});
this.G.C(this.player,"resize",function(I){L.publish("resize",I)});
this.G.C(this.player,"presentingplayerstatechange",function(I){L.publish("presentingplayerstatechange",I)});
this.subscribe("presentingplayerstatechange",this.uf,this);this.subscribe("resize",this.mw,this);this.player.S().Y9.subscribe("vast_info_card_add",this.JL,this);g.l(this,this.events);this.Gm=this.createElement({U:"div",W:"video-custom-annotations"});this.K=new g.U({U:"div",Rq:["ytp-player-content","ytp-iv-player-content"]});g.l(this,this.K);g.Uq(this.player,this.K.element,4);this.K.hide();this.Z=new g.U({U:"div",Rq:["ytp-iv-video-content"]});g.l(this,this.Z);e=this.createElement({U:"div",W:"video-annotations"});
e.appendChild(this.Gm);this.Z.element.appendChild(e);this.Ai()&&this.load();var c=this.createElement({U:"style"});(g.xr("HEAD")[0]||document.body).appendChild(c);this.addOnDisposeCallback(function(){g.s_(c)});
if(e=c.sheet)e.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),e.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),e.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),e.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),e.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),e.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),e.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),e.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),e.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),e.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},jQL=function(e){e=e.createElement({U:"div",
Rq:["annotation","annotation-type-custom"]});g.cA(e,!1);return e},Hte=function(e,L){L=!L.isCued()&&!g.E(L,1024);
e.K.i5(L);e.Z.i5(L)},lKM=function(e,L,c){e.J=!0;
e.B=g.W3(L,c)},P57=function(e,L){for(var c={},I=g.f(L.attributes),B=I.next();!B.done;B=I.next())B=B.value,c[B.name]=B.nodeValue;
for(I=0;I<L.childNodes.length;I++)if(B=L.childNodes[I],g.Se(B)&&B.nodeType==1){if(c[B.tagName])var x=c[B.tagName];else if(B.tagName==="data"){B.childNodes.length>0&&(x=B.childNodes[0].nodeValue,c[B.tagName]=typeof x==="string"?x.trim():x);continue}else x=[],c[B.tagName]=x;B&&B.tagName==="TEXT"?B.childNodes.length===1&&B.childNodes[0].nodeType===3?x.push(B.childNodes[0].nodeValue):x.push(""):B&&x.push(P57(e,B))}return c},EQe=function(e){var L=e.player.getVideoData();
if(L.t7){var c=e.player.S().Y9.get(L.videoId);if(c){var I={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(B,x,S){B=e.loadNumber;x=L.videoId;e.loaded&&e.loadNumber===B&&e.player.getVideoData().videoId===x&&(S=g.xa(S)&&S.responseXML?S.responseXML:null)&&QQw(e,S)}};
g.Qu()&&(I.onFinish=d6M(e,I.onFinish));I.postParams={ic_only:"1"};U6L(I,c);e.J=!0;g.W3(L.t7,I)}}},U6L=function(e,L){e.method="POST";
e.postParams=e.postParams||{};L.rB&&(e.postParams.ic_coll=L.rB);L.hU&&(e.postParams.ic_xml=L.hU);L.Ny&&(e.postParams.ic_track=L.Ny)},Xye=function(e){var L=new g.U({U:"div"});
g.cA(L.element,!1);var c=new tdM(e.player,L.element,OC(e));g.l(c,L);L.jl(e.K.element);c.SD();return c},YXe=function(e,L){var c,I;
if(L=(c=L.getWatchNextResponse())==null?void 0:(I=c.cards)==null?void 0:I.cardCollectionRenderer)e.pS=!0,Kv7(e,L),L.headerText&&e.UV&&(c=g.o9(L.headerText),e.UV.setAttribute("title",c))},OC=function(e){if(!e.D){var L=new V_N(e);
g.l(e,L);var c=new g.uB(e);g.l(e,c);e.D=new JT7(L,c,e.player.S(),e.player.getVideoData(),e.logger,e.player,e.BU)}return e.D},QQw=function(e,L){var c=!1,I=L.getElementsByTagName("annotations");
if(I&&!(I.length<1)&&(I=I[0].getAttribute("itct"))){var B=g.qy();if(B){var x=g.OI();x&&g.Hu(g.ao)(void 0,B,x,[g.uF(I)])}}L=L.getElementsByTagName("annotation");for(I=0;I<L.length;I++){x=P57(e,L[I]);B=null;try{if(x){var S=x.id,h=/.+/;var R=typeof S==="string"&&h!=null&&S!=null&&S.match(h)?S:"";var u=Uc(x.type,nQ9),t=Uc(x.style,ej9),O=ETM(x.data),q=O.length!==0?JSON.parse(O):{};var T=x.action;x=Lve;if(T==null)var W=null;else if(g.oL(T)){h=[];for(var A=g.f(T),b=A.next();!b.done;b=A.next()){var J=x(b.value);
J&&h.push(J)}W=h}else{var w=x(T);W=w?[w]:[]}B=R&&u?new cTN(R,u,t,W,q):null}else B=null}catch(oH){}if(B)if(B.type==="branding"||B.type==="promotion"){x=e;h=B;var C=jQL(x),y=null;switch(h.type){case "branding":if(x.player.S().f9)break;x.player.Y("web_player_overlay_positioned_layout")?(C.setAttribute("data-overlay-order","11"),x.player.Rh(C,4,!0)):x.K.element.appendChild(C);y=new uO(C,OC(x),h);break;case "promotion":g.Uq(x.player,C,4),y=new VdZ(C,OC(x),h)}y&&y.SD();if(x=y)g.l(e,x),e.j[B.id]=x}else if(B.type===
"card"||B.type==="drawer"){e.X||(e.X=Xye(e),g.l(e,e.X));if(B.type==="card"){C=e.X;var P=(c=B)&&c.data&&c.data.card_type;B=c.data;if(P)switch(x=B.tracking||{},x={t3:x.impression,click:x.click,close:x.close,wd:x.teaser_impression,eM:x.teaser_click},h=B.tracking_params||{},y=null,P){case "collaborator":c={id:c.id,timestamp:B.timestamp||0,type:B.card_type,teaserText:B.teaser_text,teaserDurationMs:B.teaser_duration_ms,startMs:B.start_ms,autoOpen:B.auto_open||!1,sessionData:B.session_data||{},sponsored:B.sponsored||
!1,qM:x,g9:h.card?g.uF(h.card):null,DJ:h.teaser?g.uF(h.teaser):null,EF:h.icon?g.uF(h.icon):null,channelId:B.channel_id,customMessage:B.custom_message?B.custom_message:null,profileImageUrl:B.image_url,title:B.title,metaInfo:B.meta_info,url:Xu({pause_on_navigation:B.pause_on_navigation,target:B.target||"new",value:B.url}),onClickCommand:null};ow(C,c);break;case "playlist":c={id:c.id,timestamp:B.timestamp||0,type:B.card_type,teaserText:B.teaser_text,teaserDurationMs:B.teaser_duration_ms,startMs:B.start_ms,
autoOpen:B.auto_open||!1,sessionData:B.session_data||{},sponsored:B.sponsored||!1,qM:x,g9:h.card?g.uF(h.card):null,DJ:h.teaser?g.uF(h.teaser):null,EF:h.icon?g.uF(h.icon):null,qX:B.image_url,playlistVideoCount:B.playlist_video_count,customMessage:B.custom_message?B.custom_message:null,title:B.title,metaInfo:B.meta_info,url:Xu({pause_on_navigation:B.pause_on_navigation,target:B.target||"new",value:B.url}),onClickCommand:null};ow(C,c);break;case "productListing":B.signin_url&&(y=Xu({target:"current",
value:B.signin_url}));P=[];for(var ev=B.offers||[],X=0;X<ev.length;X++)P.push(new rTM(g.VK(ev[X].merchant),g.VK(ev[X].price)));c={id:c.id,timestamp:B.timestamp||0,type:B.card_type,teaserText:B.teaser_text,teaserDurationMs:B.teaser_duration_ms,startMs:B.start_ms,autoOpen:B.auto_open||!1,sessionData:B.session_data||{},sponsored:B.sponsored||!1,qM:x,g9:h.card?g.uF(h.card):null,DJ:h.teaser?g.uF(h.teaser):null,EF:h.icon?g.uF(h.icon):null,imageUrl:B.image_url,displayDomain:B.display_domain?B.display_domain:
null,showLinkIcon:!!B.show_link_icon,uB:B.button_icon_url?B.button_icon_url:null,title:B.title,customMessage:B.custom_message?B.custom_message:null,url:Xu({pause_on_navigation:B.pause_on_navigation,target:B.target||"new",value:B.url}),mL9:y,Hwm:B.signin_title?B.signin_title:void 0,nt9:B.signin_message?B.signin_message:void 0,offers:P,onClickCommand:null};ow(C,c);break;case "simple":c={id:c.id,timestamp:B.timestamp||0,type:B.card_type,teaserText:B.teaser_text,teaserDurationMs:B.teaser_duration_ms,
startMs:B.start_ms,autoOpen:B.auto_open||!1,sessionData:B.session_data||{},sponsored:B.sponsored||!1,qM:x,g9:h.card?g.uF(h.card):null,DJ:h.teaser?g.uF(h.teaser):null,EF:h.icon?g.uF(h.icon):null,imageUrl:B.image_url,displayDomain:B.display_domain?B.display_domain:null,showLinkIcon:!!B.show_link_icon,uB:B.button_icon_url?B.button_icon_url:null,title:B.title,customMessage:B.custom_message?B.custom_message:null,url:Xu({pause_on_navigation:B.pause_on_navigation,target:B.target||"new",value:B.url}),onClickCommand:null};
ow(C,c);break;case "video":c={id:c.id,timestamp:B.timestamp||0,type:B.card_type,teaserText:B.teaser_text,teaserDurationMs:B.teaser_duration_ms,startMs:B.start_ms,autoOpen:B.auto_open||!1,sessionData:B.session_data||{},sponsored:B.sponsored||!1,qM:x,g9:h.card?g.uF(h.card):null,DJ:h.teaser?g.uF(h.teaser):null,EF:h.icon?g.uF(h.icon):null,qX:B.image_url,videoDuration:B.video_duration||null,customMessage:B.custom_message?B.custom_message:null,title:B.title,metaInfo:B.meta_info,isLiveNow:!!B.is_live_now,
url:Xu({pause_on_navigation:B.pause_on_navigation,target:B.target||"new",value:B.url}),onClickCommand:null},ow(C,c)}}else Otg(e.X,B);c=!0}}c&&(Vz(e.player),e.mw())},Kv7=function(e,L){var c=!1;
e.X||(e.X=Xye(e),g.l(e,e.X));for(var I=g.f(L.cards||[]),B=I.next();!B.done;B=I.next())B=B.value,B.cardRenderer&&(qXN(e.X,B.cardRenderer),c=!0);if(c){var x;(x=e.player.getVideoData())!=null&&g.Kf(x)||(c=e.X,I=L.headerText?g.o9(L.headerText):"",g.fU(c.sY,I),c.J&&c.J.setAttribute("title",I),c.context.videoData.eventId&&(c.eventId=c.context.videoData.eventId),c.Ve=L.trackingParams?g.uF(L.trackingParams):null,c.T=L.closeButton.infoCardIconRenderer.trackingParams?g.uF(L.closeButton.infoCardIconRenderer.trackingParams):
null,c.EF=L.icon.infoCardIconRenderer.trackingParams?g.uF(L.icon.infoCardIconRenderer.trackingParams):null,e.mw());Vz(e.player)}},L37=function(e,L,c,I,B){if(!e.player.S().f9){var x=[];
L.navigationEndpoint&&g.Q(L.navigationEndpoint,g.l8)&&g.Q(L.navigationEndpoint,g.l8).browseId&&x.push(new Yd9("openUrl","click",new XAe("/channel/"+g.Q(L.navigationEndpoint,g.l8).browseId,"new",!0,!0)));var S=L.watermark.thumbnails[0];I={channel_name:L.channelName,end_ms:L.endTimeMs,image_height:S.height,image_type:1,image_url:S.url,image_width:S.width,is_mobile:!1,session_data:{annotation_id:c,ei:B,feature:"iv",itct:L.trackingParams,src_vid:I},start_ms:L.startTimeMs};if(L.subscribeButton&&g.Q(L.subscribeButton,
g.PN)){I.channel_id=g.Q(L.subscribeButton,g.PN).channelId;var h;L=g.Q(L.subscribeButton,g.PN);S=B=null;L.subscribed?(L.subscriberCountWithUnsubscribeText&&(B=g.o9(L.subscriberCountWithUnsubscribeText)),L.subscriberCountText&&(S=g.o9(L.subscriberCountText))):(L.subscriberCountText&&(B=g.o9(L.subscriberCountText)),L.subscriberCountWithSubscribeText&&(S=g.o9(L.subscriberCountWithSubscribeText)));var R,u=((R=g.Q((h=L.signInEndpoint)==null?void 0:h.commandMetadata,g.gS))==null?void 0:R.url)||"";h={subscribeText:g.o9(L.unsubscribedButtonText),
subscribeCount:B||"",unsubscribeText:g.o9(L.subscribedButtonText),unsubscribeCount:S||"",enabled:L.enabled||!1,classic:!1,subscribed:L.subscribed||!1,feature:"iv",signInUrl:u};I.standalone_subscribe_button_data=h}x=new cTN(c,"branding","branding",x,I);h=jQL(e);e.player.Y("web_player_overlay_positioned_layout")?(h.setAttribute("data-overlay-order","11"),e.player.Rh(h,4,!0)):e.K.element.appendChild(h);x=new uO(h,OC(e),x);x.SD();g.l(x,x);e.j[c]=x}},d6M=function(e,L){return function(){var c=g.HM.apply(0,
arguments);
e.We()||e.h7.push(g.Vw.dg(function(){L.apply(null,g.V(c))}))}},caZ=function(e){return e==="annotation-editor"||e==="live-dashboard"};
g.p2.prototype.jQ=g.xn(39,function(e,L){var c=g.PQ(this.qx());c&&c.jQ(e,L)});
var aP={},NF=null;g.TL(yz,g.IA);g.M=yz.prototype;g.M.getDuration=function(){return this.duration};
g.M.play=function(e){if(e||this.X==0)this.progress=0,this.coords=this.K;else if(this.isPlaying())return!1;mt(this);this.startTime=e=g.O9();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.G=this.startTime;this.progress||this.PX();this.wQ("play");this.isPaused()&&this.wQ("resume");this.X=1;var L=g.hw(this);L in aP||(aP[L]=this);iHw();GMZ(this,e);return!0};
g.M.stop=function(e){mt(this);this.X=0;e&&(this.progress=1);gTL(this,this.progress);this.onStop();this.xo()};
g.M.pause=function(){this.isPlaying()&&(mt(this),this.X=-1,this.wQ("pause"))};
g.M.KS=function(){this.X==0||this.stop(!1);this.wQ("destroy");yz.hj.KS.call(this)};
g.M.destroy=function(){this.dispose()};
g.M.QV=function(){this.wQ("animate")};
g.M.wQ=function(e){this.dispatchEvent(new kMe(e,this))};
g.TL(kMe,g.Hk);g.TL(Zo,yz);Zo.prototype.Z=function(){};
Zo.prototype.QV=function(){this.Z();Zo.hj.QV.call(this)};
Zo.prototype.xo=function(){this.Z();Zo.hj.xo.call(this)};
Zo.prototype.PX=function(){this.Z();Zo.hj.PX.call(this)};
g.TL(DtL,Zo);DtL.prototype.Z=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.z(V_N,g.p);g.M=V_N.prototype;g.M.listen=function(e,L,c,I){c=(0,g.RL)(c,I||this.K);e=g.qx(e,L,c);this.X.push(e);return e};
g.M.KW=function(e,L,c,I){c=(0,g.RL)(c,I||this.K);e=Fsh(e,L,c);this.X.push(e);return e};
g.M.j6=function(e){g.Tx(e);g.i7(this.X,e)};
g.M.removeAll=function(){g.Tx(this.X);this.X.length=0};
g.M.KS=function(){this.removeAll();g.p.prototype.KS.call(this)};g.z(NRJ,g.Vk);g.M=NRJ.prototype;g.M.load=function(){g.Vk.prototype.load.call(this);if(!jK(this)){var e=g.Qur(this.player.getVideoData());e?(e=axM(e,mt7(this)),H_(this,e,!1)):yhw(this)}};
g.M.unload=function(){H_(this,null);this.G&&(this.G.abort(),this.G=null);g.Vk.prototype.unload.call(this)};
g.M.zY=function(e,L){return jK(this)?e==="loadCustomEndscreenRenderer"?(e=axM(L,"new"),H_(this,e),!0):null:null};
g.M.getOptions=function(){return jK(this)?["loadCustomEndscreenRenderer"]:[]};
g.M.Nx=function(){if(this.endscreen&&this.endscreen.elements){var e=this.player.getVideoContentRect();if(e&&e.width!==0&&e.height!==0){var L=this.player.getPlayerSize();if(L&&L.width!==0&&L.height!==0){var c=e.width/e.height;var I=0;for(var B=-1,x=0;x<I2U.length;x++){var S=Math.abs(L.width-I2U[x]);if(B===-1||I>=S)B=x,I=S}I=BeN[B];this.Z&&g.l3(this.Z.element,"outline-width",Math.max(L.width,L.height)+"px");for(L=0;L<this.endscreen.elements.length;++L)if(x=this.endscreen.elements[L].id,B=this.K[x],
S=this.j[x],B&&S){var h=S.width*c/S.aspectRatio,R=Math.round(S.width*e.width);x=Math.round(h*e.height);var u=e.left+Math.round(S.left*e.width),t=e.top+Math.round(S.top*e.height);g.e_(B.element,R,x);g.Xt(B.element,u,t);g.L1(B.element,x4M);R>256||x>256?g.Y4(B.element,"ytp-ce-large-round"):R>96||x>96?g.Y4(B.element,"ytp-ce-medium-round"):g.Y4(B.element,"ytp-ce-small-round");g.L1(B.element,osw);R=S.left+S.width/2;S=S.top+h/2;g.Y4(B.element,R<=.5&&S<=.5?"ytp-ce-top-left-quad":R>.5&&S<=.5?"ytp-ce-top-right-quad":
R<=.5&&S>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.L1(B.element,BeN);g.Y4(B.element,I);(B=g.Sf(document,"div","ytp-ce-expanding-overlay-body",B.element)[0])&&g.l3(B,"height",x+"px")}}}}};
g.M.onCueRangeEnter=function(e){if(this.endscreen)if(e.getId()==="ytp-ce-in-endscreen")dv(this,this.endscreen.impressionUrls),(e=g.qy())&&this.endscreen.visualElement&&g.PJ(e,this.endscreen.visualElement),this.X&&(g.Y4(this.X,"ytp-ce-element-show"),this.X.removeAttribute("aria-hidden"),this.player.G8()?g.Y4(this.X,"ytp-ce-hide-button-lower"):g.eZ(this.X,"ytp-ce-hide-button-lower"));else{e=e.getId().substring(15);var L=this.K[e],c=this.j[e];g.Y4(L.element,"ytp-ce-element-show");L.element.removeAttribute("aria-hidden");
L=this.player.getRootNode();g.Y4(L,"ytp-ce-shown");dv(this,c.impressionUrls);(L=g.qy())&&g.PJ(L,c.visualElement);this.player.S().J&&this.player.fS("endscreenelementshown",e)}};
g.M.onCueRangeExit=function(e){if(e.getId()==="ytp-ce-in-endscreen")this.X&&(g.eZ(this.X,"ytp-ce-element-show"),this.X.setAttribute("aria-hidden","true"));else{e=e.getId().substring(15);var L=this.K[e];g.eZ(L.element,"ytp-ce-element-show");L.element.setAttribute("aria-hidden","true");L=this.player.getRootNode();g.eZ(L,"ytp-ce-shown");this.player.S().J&&this.player.fS("endscreenelementhidden",e)}};
g.M.ed$=function(e){var L=this;e.target===window&&(new g.j9(function(){for(var c=g.f(Object.values(L.K)),I=c.next();!I.done;I=c.next())g.L1(I.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.M.i5=function(e){for(var L=g.f(Object.values(this.K)),c=L.next();!c.done;c=L.next())c=c.value,e?c.element.setAttribute("hidden",""):c.element.removeAttribute("hidden")};
g.M.P0S=function(e){this.X&&this.player.getRootNode().removeChild(this.X);e&&(g.Y4(e,"ytp-ce-hide-button-container"),this.X=e,g.Uq(this.player,this.X,4))};
var I2U=[346,426,470,506,570,640,853,1280,1920],BeN="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),osw=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],x4M=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var KsL={Aa9:"current",I2e:"new"};var nT9={CLOSE:"close",uK7:"openUrl",SUBSCRIBE:"subscribe"},eNZ={Bg_:"click",CLOSE:"close",vyw:"hidden",Kfw:"rollOut",ZV7:"rollOver",uoe:"shown"};cTN.prototype.Wd=function(){var e=IKN(this,function(L){return L.type==="openUrl"&&L.url!=null});
return e?e.url:null};
var ej9={wgw:"anchored",E6:"branding",CHANNEL:"channel",Ja7:"cta",nyW:"highlightText",wqd:"label",PLAYLIST:"playlist",POPUP:"popup",MFd:"speech",SUBSCRIBE:"subscribe",nw_:"title",VIDEO:"video",yBe:"website"},nQ9={E6:"branding",aVw:"card",LKl:"drawer",lJ9:"highlight",Npe:"marker",HBW:"promotion",TEXT:"text",z9M:"widget"};g.z(eT,g.p);g.M=eT.prototype;g.M.addCueRange=function(e,L,c,I,B){e=new g.pC(e,L,{id:c,namespace:"annotations_module"});I&&this.He.set(e,I);B&&this.m$.set(e,B);this.context.V.Lb([e],1)};
g.M.SD=function(){this.context.K.subscribe("resize",this.Nu,this)};
g.M.IT=function(){return this.element};
g.M.v2=function(e,L,c,I,B,x){if(this.x9)return!1;x&&(x.stopPropagation(),x.preventDefault());this.navigate(e,c,I,B);return!1};
g.M.show=function(){};
g.M.hide=function(){};
g.M.destroy=function(){g.s_(this.IT())};
g.M.Nu=function(){};
g.M.navigate=function(e,L,c,I){var B=this,x=Ec(e);if(x){var S=RNL(x,e.target),h=function(){e.X&&B.context.V.pauseVideo();var R=B.context.videoData.xx||!1,u=g.Ee(x||"");R&&u&&(u.v||u.list)?B.context.V.zF(u.v,L,u.list,!1):g.mZ(x||"",S==="current"?"_top":void 0,L)};
S==="new"&&(h(),h=null);tV(this.context.logger,c,h,I);hNZ(x)||(c=g.qy(),I=L.itct,c&&I&&g.EI(c,g.uF(I)))}};
g.M.KS=function(){this.He.clear();this.m$.clear();g.p.prototype.KS.call(this)};
g.M.createElement=function(e){e=new g.U(e);g.l(this,e);return e.element};g.z(tdM,eT);g.M=tdM.prototype;g.M.OC=function(){this.h7&&ow(this,this.h7)};
g.M.isAvailable=function(){var e;if(e=!!this.cards.length)(e=this.V.getRootNode())?(e=g.LH(e),e=173<e.width&&173<e.height):e=!1;return e};
g.M.Nu=function(){var e=this.isAvailable();g.cA(this.IT(),e);g.cY(this.context.V.getRootNode(),g.qB.IV_DRAWER_ENABLED,e);Vz(this.V)};
g.M.destroy=function(){this.V.jQ(!1);try{this.V.getRootNode().removeChild(this.G)}catch(e){}g.dO(this.pS);g.fv(this.t7);this.Pe&&this.Pe.dispose();this.B&&this.B.dispose();eT.prototype.destroy.call(this)};
g.M.ox=function(){var e=this;this.context.X.listen(g.rF("iv-drawer-close-button",this.G),"click",this.xE,this);this.context.X.listen(this.K,"touchend",function(){e.k9.start()});
this.context.X.listen(this.K,"scroll",this.Pb,this);this.context.K.subscribe("onHideControls",function(){e.Y9=!0});
this.context.K.subscribe("onShowControls",function(){e.Y9=!1});
this.context.K.subscribe("onVideoAreaChange",function(){e.Y9=g.Ks(e.V.getRootNode(),"ytp-autohide")});
this.pS.push(g.Qo("iv-button-shown",this.gk,this));this.pS.push(g.Qo("iv-button-hidden",this.Oc,this));sQe(this)};
g.M.findLastIndex=function(e){if(this.cards.length===0)return 0;var L=g.Aw(this.cards,function(c){return e.Jm.startMs>c.Jm.startMs||e.Jm.startMs===c.Jm.startMs&&e.Jm.timestamp>=c.Jm.timestamp?!0:!1});
return L===-1?0:L+1};
g.M.xE=function(){if(this.Z){tV(this.context.logger,hV(this).qM.close);var e=g.qy();e&&this.T&&g.EI(e,this.T);BR(this)}};
g.M.Pb=function(){g.cY(this.G,"iv-drawer-scrolled",this.K.scrollTop>0)};
g.M.gk=function(){var e=g.qy(),L=hV(this);L=L?L.EF:this.EF;e&&L&&g.QU(e,[L])};
g.M.Oc=function(){var e=g.qy(),L=hV(this);L=L?L.EF:this.EF;e&&L&&g.UI(e,[L])};
g.M.YJ=function(){var e=hV(this);tV(this.context.logger,e.qM.wd);var L=g.qy();if(L&&e)if(this.V.Y("web_infocards_teaser_show_logging_fix")){var c=[];e.DJ&&c.push(e.DJ);e.EF&&c.push(e.EF);c.length>0&&g.QU(L,c)}else g.QU(L,[e.DJ,e.EF])};
g.M.FY=function(){var e=g.qy(),L=hV(this);e&&L&&g.UI(e,[L.DJ])};
g.M.Rz=function(e){var L=hV(this),c=g.qy();this.X?e?(e=this.context.logger,tV(e,L.qM.eM),e.V.sendVideoStatsEngageEvent(4,void 0),c&&L.DJ&&g.EI(c,L.DJ)):(e=this.context.logger,tV(e,L.qM.eM),e.V.sendVideoStatsEngageEvent(4,void 0),c&&L.EF&&g.EI(c,L.EF)):(e=this.context.logger,tV(e,L.qM.eM),e.V.sendVideoStatsEngageEvent(4,void 0),c&&this.EF&&g.EI(c,this.EF))};g.z(Rw,eT);Rw.prototype.SD=function(){eT.prototype.SD.call(this);GKZ(this)};
Rw.prototype.show=function(){eT.prototype.show.call(this);var e=g.qy(),L=this.annotation.data;e&&L&&(L=L.session_data)&&g.QU(e,[g.uF(L.itct)])};
Rw.prototype.hide=function(){eT.prototype.hide.call(this);var e=g.qy(),L=this.annotation.data;e&&L&&(L=L.session_data)&&g.UI(e,[g.uF(L.itct)])};g.z(uO,Rw);
uO.prototype.show=function(){if(!this.isActive){Rw.prototype.show.call(this);if(!this.T){g.Y4(this.IT(),"iv-branding");var e=this.annotation.data;this.K=this.createElement({U:"img",Rq:["branding-img","iv-click-target"],N:{"aria-label":"Channel watermark",src:e.image_url,width:e.image_width,height:e.image_height}});g.cA(this.K,!1);var L=this.createElement({U:"button",Rq:["branding-img-container","ytp-button"]});L.appendChild(this.K);this.IT().appendChild(L);var c=this.annotation.Wd();c&&Lj(this,L,
c,this.annotation.id,e.session_data);this.context.V.Y("disable_branding_context")||wyh(this,e);this.T=!0}g.cA(this.IT(),!0);this.isActive=!0;if(this.K){try{gQ9(this,this.K)}catch(I){}g.Y4(this.context.V.getRootNode(),"ytp-branding-shown");this.context.V.getRootNode().style.setProperty("--branding-image-width",this.K.getAttribute("width")+"px")}}};
uO.prototype.hide=function(){this.isActive&&(Rw.prototype.hide.call(this),g.cA(this.IT(),!1),this.isActive=!1,g.eZ(this.context.V.getRootNode(),"ytp-branding-shown"))};
uO.prototype.destroy=function(){this.X&&(this.X.dispose(),this.X=null);g.eZ(this.context.V.getRootNode(),"ytp-branding-shown");Rw.prototype.destroy.call(this)};g.z(VdZ,Rw);g.M=VdZ.prototype;g.M.show=function(){this.isActive||(Rw.prototype.show.call(this),this.D||(aKe(this),this.D=!0),g.cA(this.IT(),!0),g.Cc(function(){g.eZ(this.IT(),"iv-promo-inactive")},100,this),this.IT().removeAttribute("aria-hidden"),this.isActive=!0,ZtU(this),NIM(this),m69(this,this.j))};
g.M.hide=function(){this.isActive&&(g.Y4(this.IT(),"iv-promo-inactive"),this.isActive=!1,this.IT().setAttribute("aria-hidden","true"))};
g.M.v2=function(e,L,c,I,B,x){return this.isCollapsed?!1:Rw.prototype.v2.call(this,e,L,c,I,B,x)};
g.M.IE=function(e){this.J=!0;C5M(this,500,e)};
g.M.Ud=function(){this.J=!1;yTN(this)};
g.M.KH=function(e){e.stopPropagation();this.hide()};
g.M.ZN=function(e){e.stopPropagation();ZtU(this);this.isCollapsed=!0;g.Y4(this.IT(),"iv-promo-collapsed-no-delay");this.B.start()};
g.M.destroy=function(){this.B.dispose();Rw.prototype.destroy.call(this)};g.z($6h,g.Vk);g.M=$6h.prototype;g.M.zY=function(e,L){if(!caZ(this.player.S().playerStyle))return null;switch(e){case "loadCustomAnnotationsXml":return(e=g.I_(L))&&QQw(this,e),!0;case "removeCustomAnnotationById":return L&&this.X&&(WvM(this.X,L),Vz(this.player)),!0}return null};
g.M.getOptions=function(){return caZ(this.player.S().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.M.Ai=function(){var e=this.player.S(),L=this.player.getVideoData(),c=e.annotationsLoadPolicy||L.annotationsLoadPolicy;return L.xx||this.player.isMutedByEmbedsMutedAutoplay()?!1:c===1&&!L.fC||e.Y9.get(L.videoId)||g.Y$(L)||g.nf(L)?!0:!1};
g.M.mw=function(){if(this.Z){var e=this.player.LS().getVideoContentRect(!0);g.e_(this.Z.element,e.width,e.height);g.Xt(this.Z.element,e.left,e.top)}if(this.X){var L=this.player.CB();e=this.X;L=L.width;g.cY(e.G,"iv-drawer-small",L<=426);g.cY(e.G,"iv-drawer-big",L>=1280)}};
g.M.uf=function(e){Hte(this,e.state);g.E(e.state,2)&&(this.G8()&&this.Ph()&&this.player.getPresentingPlayerType()!==2&&this.BB(!1),this.jQ(!1))};
g.M.load=function(){function e(S){var h=L.loadNumber;L.B=null;L.loaded&&L.loadNumber===h&&L.player.getVideoData().videoId===I&&(S=g.xa(S)&&S.responseXML?S.responseXML:null)&&(QQw(L,S),g.Y4(L.player.getRootNode(),"iv-module-loaded"))}
var L=this;g.Vk.prototype.load.call(this);Hte(this,this.player.getPlayerStateObject());this.loadNumber++;var c=this.player.getVideoData(),I=c.videoId;g.Qu()&&(e=d6M(this,e));var B={format:"XML",onFinish:e,onError:function(){L.B=null},
urlParams:{}};c.isPharma&&(B.urlParams.pharma="1");B.method="POST";B.withCredentials=!0;var x=this.player.S().Y9.get(I);x&&U6L(B,x);x=x&&(x.hU||x.rB);if(!c.Dl||x)c.t7?lKM(this,c.t7,B):(this.T=function(){if(!L.J)L.onVideoDataChange(B);var S=L.player.getVideoData();(S==null?0:g.Kf(S))&&!L.pS&&YXe(L,S)},this.player.addEventListener("videodatachange",this.T));
g.Uq(this.player,this.Z.element,4);this.mw();(x=g.Y$(c))&&Kv7(this,x);(x=g.nf(c))&&x.featuredChannel&&L37(this,x.featuredChannel,x.annotationId||"branding",c.videoId||null,c.eventId||null);this.UV=g.rF("ytp-cards-button",this.player.getRootNode());g.Kf(c)&&YXe(this,c)};
g.M.onVideoDataChange=function(e){var L=this.player.getVideoData();L.t7&&lKM(this,L.t7,e)};
g.M.unload=function(){this.player.RU("annotations_module");for(var e=g.f(Object.keys(this.j)),L=e.next();!L.done;L=e.next())this.j[L.value].destroy();this.D=null;this.X&&(this.X.destroy(),this.X=null,Vz(this.player));this.J=!1;this.B&&(this.B.abort(),this.B=null);this.pS=!1;this.j={};this.K.hide();g.Vk.prototype.unload.call(this);this.Z.detach();this.T&&(this.player.removeEventListener("videodatachange",this.T),this.T=null)};
g.M.JL=function(e){e===this.player.getVideoData().videoId&&(this.loaded?EQe(this):this.load())};
g.M.G8=function(){var e;return((e=this.X)==null?void 0:e.isAvailable())||this.pS};
g.M.Ph=function(){return!!this.X&&this.X.Z};
g.M.BB=function(e,L,c){L=L===void 0?!1:L;this.G8();this.X&&(e?c?Iw(this.X,c,L):Iw(this.X,"YOUTUBE_DRAWER_AUTO_OPEN",L):BR(this.X))};
g.M.jQ=function(e,L){this.player.publish(e?"cardsteasershow":"cardsteaserhide",L)};
g.M.KS=function(){this.player.S().Y9.unsubscribe("vast_info_card_add",this.JL,this);g.eZ(this.player.getRootNode(),g.qB.IV_DRAWER_OPEN);for(var e=this.h7,L=g.Vw,c=0,I=e.length;c<I;c++)L.qe(e[c]);this.h7.length=0;g.Vk.prototype.KS.call(this)};
g.M.createElement=function(e){e=new g.U(e);g.l(this,e);return e.element};g.JK("annotations_module",$6h);g.JK("creatorendscreen",NRJ);})(_yt_player);
